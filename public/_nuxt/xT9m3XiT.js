import{_ as se,r as V,x as U,g as le,j as re,c as a,a as e,k as de,t as m,y as ie,b as ue,w as ae,m as l,v as r,E as S,F as f,l as y,p as ce,I as pe,o as c}from"./BSD6ajEG.js";const me={key:0,class:"flex justify-center py-12"},be={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},fe={key:2,class:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4"},ye={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ge={class:"space-y-8"},xe={class:"card"},ve={class:"space-y-4"},_e={class:"border rounded-md p-3 bg-gray-50"},ke={class:"space-y-2"},he={class:"flex items-center"},we={class:"flex items-center"},Ve=["onUpdate:modelValue"],Ue={class:"text-xs bg-gray-200 rounded px-2 py-1"},Ce={class:"card"},je={class:"space-y-4"},Se={class:"grid grid-cols-2 gap-4"},Be={class:"space-y-2"},Oe={class:"flex items-center"},Ne={class:"space-y-2"},Te={class:"flex items-center"},$e={class:"card"},Pe={class:"space-y-4"},De={class:"space-y-4"},Je={class:"flex justify-between items-center mb-2"},Fe={class:"font-medium"},Ee=["onClick"],Re={class:"space-y-2"},Ae=["onUpdate:modelValue"],Me=["onUpdate:modelValue"],Ie=["onUpdate:modelValue"],Le={class:"card"},ze={class:"space-y-4"},Ge={class:"space-y-4"},He={class:"flex justify-between items-center mb-2"},qe={class:"font-medium"},Ke=["onClick"],Qe={class:"space-y-2"},We=["onUpdate:modelValue"],Xe=["onUpdate:modelValue"],Ye=["onUpdate:modelValue"],Ze={class:"space-y-8"},et={class:"card"},tt={class:"space-y-4"},ot={class:"space-y-4"},nt={class:"flex justify-between items-center mb-2"},st={class:"font-medium"},lt=["onClick"],rt={class:"space-y-2"},dt=["onUpdate:modelValue"],it=["onUpdate:modelValue"],ut={class:"space-y-2"},at=["onUpdate:modelValue"],ct=["onClick"],pt=["onClick"],mt=["onUpdate:modelValue"],bt=["onUpdate:modelValue"],ft={class:"flex items-center"},yt=["onUpdate:modelValue"],gt={class:"card"},xt={class:"space-y-4"},vt={class:"space-y-4"},_t={class:"flex justify-between items-center mb-2"},kt={class:"font-medium"},ht=["onClick"],wt={class:"space-y-2"},Vt=["onUpdate:modelValue"],Ut=["onUpdate:modelValue"],Ct=["onUpdate:modelValue"],jt=["onUpdate:modelValue"],St={class:"card"},Bt={class:"space-y-4"},Ot={class:"space-y-4"},Nt={class:"flex justify-between items-center mb-2"},Tt={class:"font-medium"},$t=["onClick"],Pt={class:"space-y-2"},Dt=["onUpdate:modelValue"],Jt=["onUpdate:modelValue"],Ft={class:"card"},Et={class:"space-y-4"},Rt={class:"space-y-4"},At={class:"flex justify-between items-center mb-2"},Mt={class:"font-medium"},It=["onClick"],Lt={class:"space-y-2"},zt=["onUpdate:modelValue"],Gt=["onUpdate:modelValue"],Ht=["onUpdate:modelValue"],qt={class:"space-y-2"},Kt=["onUpdate:modelValue"],Qt=["onClick"],Wt=["onClick"],Xt=["onUpdate:modelValue"],Yt=["onUpdate:modelValue"],Zt={class:"flex items-center"},eo=["onUpdate:modelValue"],to={class:"flex justify-end"},oo=["disabled"],no={key:4,class:"fixed bottom-4 right-4 bg-green-100 border border-green-400 text-green-700 px-6 py-3 rounded shadow-lg"},so={__name:"homepage",setup(lo){const T=ce(),B=V(!0),O=V(!1),C=V(null),N=V(!1),d=V(null),$=V(null),j=V([]),p=U({title:"",subtitle:"",primaryButton:{show:!0,text:"",link:""},secondaryButton:{show:!0,text:"",link:""}}),g=U({title:"",items:[]}),x=U({title:"",plans:[]}),v=U({title:"",items:[]}),_=U({title:"",items:[]}),k=U({title:"",plans:[]}),h=U({title:"",images:[]}),P=le(()=>{var s;return((s=$.value)==null?void 0:s.role)==="admin"}),E={hero:"英雄区块",features:"功能展示",pricing:"价格方案",testimonials:"用户评价",contact:"联系我们",reseller_pricing:"授权商价格",gallery:"图片展示",reseller_pricing:"授权商价格",gallery:"图片展示"},R=s=>E[s]||s,D=()=>{d.value.home_sections=j.value.filter(s=>s.enabled).map(s=>s.id)},A=()=>{g.items.push({icon:"",title:"",description:""})},M=s=>{g.items.splice(s,1)},I=()=>{x.plans.push({name:"",price:0,features:[],buttonText:"",link:"",featured:!1})},L=s=>{x.plans.splice(s,1)},z=s=>{s.features.push("")},G=(s,t)=>{s.features.splice(t,1)},H=()=>{v.items.push({avatar:"",name:"",position:"",content:""})},q=s=>{v.items.splice(s,1)},K=()=>{_.items.push({icon:"",text:""})},Q=s=>{_.items.splice(s,1)},W=()=>{k.plans.push({name:"",price:0,unit:"年",features:[],buttonText:"",link:"",featured:!1})},X=s=>{k.plans.splice(s,1)},Y=s=>{s.features.push("")},Z=(s,t)=>{s.features.splice(t,1)},ee=()=>{h.images.push({url:"",caption:"",description:""})},te=s=>{h.images.splice(s,1)},oe=async()=>{try{B.value=!0,C.value=null;const s=localStorage.getItem("token");if(!s){T.push("/login");return}const t=localStorage.getItem("user");if(t)try{$.value=JSON.parse(t)}catch(i){console.error("解析用户信息失败",i)}if(!P.value){B.value=!1;return}const b=await fetch("/api/settings/homepage",{headers:{Authorization:`Bearer ${s}`}});if(!b.ok){if(b.status===401||b.status===403){localStorage.removeItem("token"),localStorage.removeItem("user"),T.push("/login");return}throw new Error("无法获取主页设置")}const o=await b.json();if(!o.success)throw new Error(o.message||"获取主页设置失败");d.value=o.data;const u=d.value.home_sections||["hero","features","pricing","testimonials","reseller_pricing","gallery"],n=["hero","features","pricing","testimonials","contact","reseller_pricing","gallery"];if(j.value=n.map(i=>({id:i,enabled:u.includes(i)})),j.value.sort((i,w)=>{const J=u.indexOf(i.id),F=u.indexOf(w.id);return J===-1?1:F===-1?-1:J-F}),d.value.hero_content){const i=typeof d.value.hero_content=="object"?d.value.hero_content:JSON.parse(d.value.hero_content);Object.assign(p,i)}if(d.value.features_content){const i=typeof d.value.features_content=="object"?d.value.features_content:JSON.parse(d.value.features_content);Object.assign(g,i)}if(d.value.pricing_content){const i=typeof d.value.pricing_content=="object"?d.value.pricing_content:JSON.parse(d.value.pricing_content);Object.assign(x,i)}if(d.value.testimonials_content){const i=typeof d.value.testimonials_content=="object"?d.value.testimonials_content:JSON.parse(d.value.testimonials_content);Object.assign(v,i)}if(d.value.contact_content){const i=typeof d.value.contact_content=="object"?d.value.contact_content:JSON.parse(d.value.contact_content);Object.assign(_,i)}if(d.value.reseller_pricing_content){const i=typeof d.value.reseller_pricing_content=="object"?d.value.reseller_pricing_content:JSON.parse(d.value.reseller_pricing_content);Object.assign(k,i)}if(d.value.gallery_content){const i=typeof d.value.gallery_content=="object"?d.value.gallery_content:JSON.parse(d.value.gallery_content);Object.assign(h,i)}}catch(s){console.error("获取主页设置错误:",s),C.value=s.message}finally{B.value=!1}},ne=async()=>{try{O.value=!0,C.value=null,D();const s=localStorage.getItem("token"),t=await fetch("/api/settings/homepage",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({home_sections:d.value.home_sections,hero_content:p,features_content:g,pricing_content:x,testimonials_content:v,contact_content:_,reseller_pricing_content:k,gallery_content:h})});if(!t.ok)throw new Error("保存设置失败");const b=await t.json();if(!b.success)throw new Error(b.message||"保存设置失败");N.value=!0,setTimeout(()=>{N.value=!1},3e3)}catch(s){console.error("保存设置错误:",s),C.value=s.message}finally{O.value=!1}};return re(()=>{oe()}),(s,t)=>{const b=pe("draggable");return c(),a("div",null,[t[49]||(t[49]=e("h1",{class:"text-2xl font-bold mb-6"},"主页设置",-1)),B.value?(c(),a("div",me,t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"},null,-1)]))):C.value?(c(),a("div",be,m(C.value),1)):P.value?(c(),a("form",{key:3,onSubmit:ie(ne,["prevent"]),class:"space-y-8"},[e("div",ye,[e("div",ge,[e("div",xe,[t[19]||(t[19]=e("h2",{class:"text-xl font-bold mb-4"},"区块顺序",-1)),e("div",ve,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"首页区块",-1)),e("div",_e,[t[17]||(t[17]=e("p",{class:"text-sm text-gray-600 mb-2"},"拖动调整区块顺序，取消勾选隐藏区块",-1)),e("div",ke,[ue(b,{modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=o=>j.value=o),onEnd:D,class:"space-y-2"},{default:ae(()=>[(c(!0),a(f,null,y(j.value,(o,u)=>(c(),a("div",{key:o.id,class:"flex items-center justify-between bg-white p-3 rounded border"},[e("div",he,[t[16]||(t[16]=e("span",{class:"text-gray-500 mr-3 cursor-move"},"≡",-1)),e("label",we,[l(e("input",{type:"checkbox","onUpdate:modelValue":n=>o.enabled=n,class:"h-4 w-4 text-pink-600 mr-2"},null,8,Ve),[[S,o.enabled]]),e("span",null,m(R(o.id)),1)])]),e("span",Ue,m(o.id),1)]))),128))]),_:1},8,["modelValue"])])])])])]),e("div",Ce,[t[26]||(t[26]=e("h2",{class:"text-xl font-bold mb-4"},"英雄区块",-1)),e("div",je,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>p.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.title]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"副标题",-1)),l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>p.subtitle=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.subtitle]])]),e("div",Se,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"主要按钮",-1)),e("div",Be,[e("label",Oe,[l(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=o=>p.primaryButton.show=o),class:"h-4 w-4 text-pink-600 mr-2"},null,512),[[S,p.primaryButton.show]]),t[22]||(t[22]=e("span",null,"显示按钮",-1))]),l(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>p.primaryButton.text=o),type:"text",placeholder:"按钮文字",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.primaryButton.text]]),l(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>p.primaryButton.link=o),type:"text",placeholder:"按钮链接",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.primaryButton.link]])])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"次要按钮",-1)),e("div",Ne,[e("label",Te,[l(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=o=>p.secondaryButton.show=o),class:"h-4 w-4 text-pink-600 mr-2"},null,512),[[S,p.secondaryButton.show]]),t[24]||(t[24]=e("span",null,"显示按钮",-1))]),l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>p.secondaryButton.text=o),type:"text",placeholder:"按钮文字",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.secondaryButton.text]]),l(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>p.secondaryButton.link=o),type:"text",placeholder:"按钮链接",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,p.secondaryButton.link]])])])])])]),e("div",$e,[t[29]||(t[29]=e("h2",{class:"text-xl font-bold mb-4"},"功能区块",-1)),e("div",Pe,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>g.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,g.title]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"功能列表",-1)),e("div",De,[(c(!0),a(f,null,y(g.items,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",Je,[e("h3",Fe,"功能 #"+m(u+1),1),e("button",{type:"button",onClick:n=>M(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,Ee)]),e("div",Re,[l(e("input",{"onUpdate:modelValue":n=>o.icon=n,type:"text",placeholder:"图标 (emoji)",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ae),[[r,o.icon]]),l(e("input",{"onUpdate:modelValue":n=>o.title=n,type:"text",placeholder:"标题",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Me),[[r,o.title]]),l(e("textarea",{"onUpdate:modelValue":n=>o.description=n,placeholder:"描述",rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ie),[[r,o.description]])])]))),128)),e("button",{type:"button",onClick:A,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加功能 ")])])])]),e("div",Le,[t[32]||(t[32]=e("h2",{class:"text-xl font-bold mb-4"},"图片展示区块",-1)),e("div",ze,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>h.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,h.title]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"图片列表",-1)),e("div",Ge,[(c(!0),a(f,null,y(h.images,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",He,[e("h3",qe,"图片 #"+m(u+1),1),e("button",{type:"button",onClick:n=>te(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,Ke)]),e("div",Qe,[l(e("input",{"onUpdate:modelValue":n=>o.url=n,type:"text",placeholder:"图片URL",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,We),[[r,o.url]]),l(e("input",{"onUpdate:modelValue":n=>o.caption=n,type:"text",placeholder:"图片标题",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Xe),[[r,o.caption]]),l(e("textarea",{"onUpdate:modelValue":n=>o.description=n,placeholder:"图片描述",rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ye),[[r,o.description]])])]))),128)),e("button",{type:"button",onClick:ee,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加图片 ")])])])])]),e("div",Ze,[e("div",et,[t[37]||(t[37]=e("h2",{class:"text-xl font-bold mb-4"},"价格区块",-1)),e("div",tt,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>x.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,x.title]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"价格方案",-1)),e("div",ot,[(c(!0),a(f,null,y(x.plans,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",nt,[e("h3",st,"方案 #"+m(u+1),1),e("button",{type:"button",onClick:n=>L(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,lt)]),e("div",rt,[l(e("input",{"onUpdate:modelValue":n=>o.name=n,type:"text",placeholder:"方案名称",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,dt),[[r,o.name]]),l(e("input",{"onUpdate:modelValue":n=>o.price=n,type:"number",placeholder:"价格",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,it),[[r,o.price,void 0,{number:!0}]]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"功能列表",-1)),e("div",ut,[(c(!0),a(f,null,y(o.features,(n,i)=>(c(),a("div",{key:i,class:"flex items-center"},[l(e("input",{"onUpdate:modelValue":w=>o.features[i]=w,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,at),[[r,o.features[i]]]),e("button",{type:"button",onClick:w=>G(o,i),class:"ml-2 text-red-500 hover:text-red-700"}," 删除 ",8,ct)]))),128)),e("button",{type:"button",onClick:n=>z(o),class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加功能 ",8,pt)])]),l(e("input",{"onUpdate:modelValue":n=>o.buttonText=n,type:"text",placeholder:"按钮文字",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,mt),[[r,o.buttonText]]),l(e("input",{"onUpdate:modelValue":n=>o.link=n,type:"text",placeholder:"按钮链接",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,bt),[[r,o.link]]),e("label",ft,[l(e("input",{type:"checkbox","onUpdate:modelValue":n=>o.featured=n,class:"h-4 w-4 text-pink-600 mr-2"},null,8,yt),[[S,o.featured]]),t[35]||(t[35]=e("span",null,"推荐方案",-1))])])]))),128)),e("button",{type:"button",onClick:I,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加方案 ")])])])]),e("div",gt,[t[40]||(t[40]=e("h2",{class:"text-xl font-bold mb-4"},"评价区块",-1)),e("div",xt,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>v.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,v.title]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"评价列表",-1)),e("div",vt,[(c(!0),a(f,null,y(v.items,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",_t,[e("h3",kt,"评价 #"+m(u+1),1),e("button",{type:"button",onClick:n=>q(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,ht)]),e("div",wt,[l(e("input",{"onUpdate:modelValue":n=>o.avatar=n,type:"text",placeholder:"头像URL",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Vt),[[r,o.avatar]]),l(e("input",{"onUpdate:modelValue":n=>o.name=n,type:"text",placeholder:"姓名",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ut),[[r,o.name]]),l(e("input",{"onUpdate:modelValue":n=>o.position=n,type:"text",placeholder:"职位",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ct),[[r,o.position]]),l(e("textarea",{"onUpdate:modelValue":n=>o.content=n,placeholder:"评价内容",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,jt),[[r,o.content]])])]))),128)),e("button",{type:"button",onClick:H,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加评价 ")])])])]),e("div",St,[t[43]||(t[43]=e("h2",{class:"text-xl font-bold mb-4"},"联系区块",-1)),e("div",Bt,[e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>_.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,_.title]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"联系方式",-1)),e("div",Ot,[(c(!0),a(f,null,y(_.items,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",Nt,[e("h3",Tt,"联系方式 #"+m(u+1),1),e("button",{type:"button",onClick:n=>Q(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,$t)]),e("div",Pt,[l(e("input",{"onUpdate:modelValue":n=>o.icon=n,type:"text",placeholder:"图标 (emoji)",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Dt),[[r,o.icon]]),l(e("input",{"onUpdate:modelValue":n=>o.text=n,type:"text",placeholder:"文本内容",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Jt),[[r,o.text]])])]))),128)),e("button",{type:"button",onClick:K,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加联系方式 ")])])])]),e("div",Ft,[t[48]||(t[48]=e("h2",{class:"text-xl font-bold mb-4"},"授权商价格区块",-1)),e("div",Et,[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"标题",-1)),l(e("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>k.title=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,512),[[r,k.title]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"价格方案",-1)),e("div",Rt,[(c(!0),a(f,null,y(k.plans,(o,u)=>(c(),a("div",{key:u,class:"border rounded-md p-4"},[e("div",At,[e("h3",Mt,"方案 #"+m(u+1),1),e("button",{type:"button",onClick:n=>X(u),class:"text-red-500 hover:text-red-700"}," 删除 ",8,It)]),e("div",Lt,[l(e("input",{"onUpdate:modelValue":n=>o.name=n,type:"text",placeholder:"方案名称",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,zt),[[r,o.name]]),l(e("input",{"onUpdate:modelValue":n=>o.price=n,type:"number",placeholder:"价格",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Gt),[[r,o.price,void 0,{number:!0}]]),l(e("input",{"onUpdate:modelValue":n=>o.unit=n,type:"text",placeholder:"单位（如：月、年）",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Ht),[[r,o.unit]]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"功能列表",-1)),e("div",qt,[(c(!0),a(f,null,y(o.features,(n,i)=>(c(),a("div",{key:i,class:"flex items-center"},[l(e("input",{"onUpdate:modelValue":w=>o.features[i]=w,type:"text",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Kt),[[r,o.features[i]]]),e("button",{type:"button",onClick:w=>Z(o,i),class:"ml-2 text-red-500 hover:text-red-700"}," 删除 ",8,Qt)]))),128)),e("button",{type:"button",onClick:n=>Y(o),class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加功能 ",8,Wt)])]),l(e("input",{"onUpdate:modelValue":n=>o.buttonText=n,type:"text",placeholder:"按钮文字",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Xt),[[r,o.buttonText]]),l(e("input",{"onUpdate:modelValue":n=>o.link=n,type:"text",placeholder:"按钮链接",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"},null,8,Yt),[[r,o.link]]),e("label",Zt,[l(e("input",{type:"checkbox","onUpdate:modelValue":n=>o.featured=n,class:"h-4 w-4 text-pink-600 mr-2"},null,8,eo),[[S,o.featured]]),t[46]||(t[46]=e("span",null,"推荐方案",-1))])])]))),128)),e("button",{type:"button",onClick:W,class:"w-full py-2 border-2 border-dashed border-gray-300 rounded-md text-gray-500 hover:border-pink-500 hover:text-pink-500"}," 添加方案 ")])])])])])]),e("div",to,[e("button",{type:"submit",class:"btn-primary",disabled:O.value},m(O.value?"保存中...":"保存设置"),9,oo)])],32)):(c(),a("div",fe," 您没有权限访问主页设置页面。 ")),N.value?(c(),a("div",no," 设置保存成功！ ")):de("",!0)])}}},io=se(so,[["__scopeId","data-v-5f63315b"]]);export{io as default};
